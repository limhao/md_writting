---
title: 定时器输出比较-定时器（3）
---

停了三天 整了个论文

今天9/27号 今天的话fpga应该也能一起到

一起学吧 然后 学到11月 整个简历试着投一下

加油！！

oc(output compare)

这个功能主要是让 定时器输出PWM波形的 

## 简介-- 高级定时器可用

输出比较可以通过比较CNT与CCR寄存器值的关系，来对输出电平进行置1、置0或翻转的操作，用于输出一定频率和占空比的PWM波形

每个高级定时器和通用定时器都拥有4个输出比较通道

高级定时器的前3个通道额外拥有死区生成和互补输出的功能

## PWM简介

数字信号 去做个模拟信号的活

在一个很快的频率 让电机通电断电 就能控制电机在一个中等的速度

应用场景是一个惯性系统

分辨率=占空比变化步距

eg 假如说 占空比只能以1%的变化跳变 那分辨率就是1%

0.1% 那就是0.1%

一般来说1% 就已经够使用了

![](https://pic.imgdb.cn/item/6513994fc458853aef24e609.jpg)

## 输出模式控制器

![](https://pic.imgdb.cn/item/6513994fc458853aef24e614.jpg)

## 参数计算

![](https://pic.imgdb.cn/item/6513994fc458853aef24e621.jpg)

## 代码逻辑

![](https://pic.imgdb.cn/item/6513994fc458853aef24e633.jpg)

## 驱动电路介绍

PWM 也常常被定义为一种通信协议来控制舵机驱动

如下面

![](https://pic.imgdb.cn/item/6513994fc458853aef24e651.jpg)

因为 直流电机属于大功率器件，GPIO无法直接驱动，需要配合电机驱动电路

下面为TB6612驱动芯片的简介

![](https://pic.imgdb.cn/item/651399bbc458853aef250335.jpg)